<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap&subset=cyrillic-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap&subset=cyrillic-ext" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="author" content="Кулагин Александр">
	<meta name="copyright" content="MyOcean">
	<meta name="keywords" content="Star Wars, Mandalorec, Мандалорец, Episode IX, Скайуокер. Восход, Звездные войны">
	<meta name="description" content="Данный сайт содержит информацию о вселенной Звёздных войн.">
    <link rel="icon" href="img/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="css/films.css">
    <link rel="stylesheet" href="css/mediaFilm.css">
    <!-- FACEBOOK -->
	<meta property="og:locale" content="ru_RU">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Star Wars">
	<meta property="og:description" content="Сайт содержит информацию о вселенной Звездный Войн">
	<meta property="og:image" content="img/logo.png">
	<meta property="og:url" content="ПОКАЧТО ЕЕ НЕТ">
	<meta property="og:site_name" content="Star Wars">
	<!-- TWITTER -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="Iframe">
	<meta name="twitter:title" content="Star Wars">
	<meta name="twitter:description" content="Сайт содержит информацию о вселенной Звездный Войн">
	<meta name="twitter:image" content="img/logo.png">
    <title>Смотреть сериал Мандалорец - Star Wars</title>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header__row">
                <div class="header__top">
                    <div class="header__logo"><a href="index.html"><img src="img/logo1.png" class="logo"></a></div>
                    <div class="header__nav">
                        <ul class="header__links">
                            <li class="header__link one"><p class="link1">Вселенная</p></li>
                            <div class="menu hide">
                                <ul>
                                    <li><a href="series.html">Сериал</a></li>
                                    <li id="goPlay"><a href="agree.html">Играть</a></li>
                                    <li><a href="other.html">Другое</a></li>
                                </ul>
                            </div>
                            <li class="header__link"><a class="link2" href="films.html">Фильмы</a></li>
                            <li class="header__link"><a class="link3" href="chat.html">Чат</a></li>
                            <li class="header__link"><a class="link4" href="login.html">Авторизация</a></li>
                            <li class="header__link"><a class="link5" href="market.html">ЛЕГО StarWars Магазин</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="main">
            <div class="slider">
                <div class="sliderImage"></div>
                <iframe class="sliderContent sliderTest" src="https://player.vimeo.com/video/390331691" frameborder="0" allowfullscreen></iframe> 
                <!-- <video class="sliderContent sliderTest" poster="img/1seria.webp" title="Вначале видео возможна реклама :0" src="video/Mandalorec_1_sezon_-_1_seriya.mp4" controls></video> -->
                <div class="main__block"><h3 class="seria seria0">Смотреть Трейлер</h3></div>
                <div class="main__block">
                    <h3 class="seria seria1">Смотреть 1 серию</h3>
                    <h3 class="seria seria2">Смотреть 2 серию</h3>
                    <h3 class="seria seria3">Смотреть 3 серию</h3>
                    <h3 class="seria seria4">Смотреть 4 серию</h3>
                </div>
                <div class="main__block">
                    <h3 class="seria seria5">Смотреть 5 серию</h3>
                    <h3 class="seria seria6">Смотреть 6 серию</h3>
                    <h3 class="seria seria7">Смотреть 7 серию</h3>
                    <h3 class="seria seria8">Смотреть 8 серию</h3>
                </div>
            </div>
    </main>
    <section class="section">
        <div class="container">
            <div class="section__row">
                <div class="section__left">
                    <div class="fone"></div>
                </div>
                <div class="section__right">
                    <h3 class="data">2 Сезон 1 серия</h3>
                    <div class="border"></div>
                    <h3 class="year">2020 год</h3>
                </div>
            </div>
        </div>
    </section>
    <aside class="aside">
        <div class="container">
            <div class="aside__row">
                <div class="aside__left"></div>
                <div class="aside__block">
                    <h1  class="text-description type-me">Информация о сериале</h1>
                    <p>«Мандалорец» (The Mandalorian) – американский сериал от Джона Фавро, 
                    стартовавший в 2019 году. Действия проекта разворачиваются во вселенной Звёздных войн. 
                    Сериал в жанре космической оперы выходит на стриминговом сервисе Disney+, 
                    но зрители со всего мира могут насладиться шоу, если сериал «Мандалорец» смотреть онлайн в интернете.</p>
                    <h1 class="text-description type-meTwo" style="margin-top: 15px;">Описание сюжета «Мандалорец»</h1>
                    <p>Действие сериала разворачивается спустя 5 лет после выхода последней части фильма «Звёздные войны». 
                    Главным героем сериала стал наёмник-мандалорец (Педро Паскаль), 
                    живущий на краю населённой галактики. В этих местах на задворках Вселенной очень суровые 
                    нравы и обычаи, до них не доходят законы и власть Новой республики. 
                    Раньше главный герой был элитным воином, принадлежащим к благородной аристократической чете,
                    теперь он вынужден жить среди бедноты и нечистот, с каждым днём становясь всё более жалким.
                    Маналорийцы – сильная раса, воспитывающая настоящих воинов, к ней же принадлежат знаменитые
                    Джанго и Боба Фетт. Этот народ постоянно вступает в вооружённые конфликты с 
                    Орденом джедаев, но сотрудничает с бандой Дарта Мола Несмотря на то, 
                    что герой является профессиональным наёмным убийцей и может постоять за себя, 
                    сталкивается с огромными проблемыми, так как мир вокруг него хаотичен, 
                    а общество жестоко, в нём преобладают животные загоны, где каждый сам за себя. 
                    Мандалорец представляет собой типичного антигероя, который из воодушевлённого защитника
                    превратился в смелого, но очень опасного преступника. Однажды слухи о загадочном 
                    наёмнике доходят до гильдии элитных убийц. Руководитель банды по имени Гриф решает 
                    связаться с юношей, чтобы сделать заманчивое предложение. Начните просмотр с первой 
                    серии и следите за приключениями наемника!</p>
                </div>
            </div>
        </div>
    </aside>
    <div class="chat">
        <div class="container">
            <h1 class="komments">Комментарии</h1>
            <div class="chat__top">
                <input type="text" id='inputName' placeholder="Введите ваше имя.." class="inputName">
                <input type="text" placeholder="Введите ваше сообщение.." id="inputMessage" class="inputMessage">
                <button class="btnSend">Отправить</button>
            </div>
            <textarea class="field" rows="30" disabled></textarea>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="footer__row">
                <div class="footer__left"><a href="agree.html">Условия соглашения</a></div>
                <div class="footer__right"><a href="index.html">Работа была сделана Кулагином Александром</a></div>
            </div>
        </div>
    </footer>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.0.5/gsap.min.js"></script>
<script>
    console.log(
		'%cВ видео присутствует реклама >:0',
		'color: lightblue; font-size: 50px;' +
		'background: black; font-family: cursive;' +
		'text-shadow: 3px 3px 3px white; border: 1px solid #fff;'
	)

    let sliderImage = document.querySelector('.sliderImage')
    let elPlay = document.createElement('div')
    let block = document.querySelector('.main__block')

    let el0 = document.querySelector('.sliderTest')
    let slider = document.querySelector('.slider')
    let el1 = document.createElement('iframe')
    el1.classList.add('sliderContent')
    let el2 = document.createElement('iframe')
    el2.classList.add('sliderContent')
    let el3 = document.createElement('iframe')
    el3.classList.add('sliderContent')
    let el4 = document.createElement('iframe')
    el4.classList.add('sliderContent')
    let el5 = document.createElement('iframe')
    el5.classList.add('sliderContent')
    let el6 = document.createElement('iframe')
    el6.classList.add('sliderContent')
    let el7 = document.createElement('iframe')
    el7.classList.add('sliderContent')
    let el8 = document.createElement('iframe')
    el8.classList.add('sliderContent')
    let el9 = document.createElement('iframe')
    el9.classList.add('sliderContent')

    let seria = document.querySelectorAll('seria')
    let seria0 = document.querySelector('.seria0')
    let seria1 = document.querySelector('.seria1')
    let seria2 = document.querySelector('.seria2')
    let seria3 = document.querySelector('.seria3')
    let seria4 = document.querySelector('.seria4')
    let seria5 = document.querySelector('.seria5')
    let seria6 = document.querySelector('.seria6')
    let seria7 = document.querySelector('.seria7')
    let seria8 = document.querySelector('.seria8')

function hide() { elPlay.classList.add('hided') }

function videoPlay() {
    elPlay.classList.toggle('sliderImage')
    slider.appendChild(elPlay)
}
function videoType(el) {
    el.allowfullscreen = true
    el.frameborder = 0
}
function videoSrc(el, linkSrc) {
    el.src = linkSrc
}
function elRemove(el0,el1,el2,el3,el4,el5,el6,el7,el8) {
    el0.remove()
    el1.remove()
    el2.remove()
    el3.remove()
    el4.remove()
    el5.remove()
    el6.remove()
    el7.remove()
    el8.remove()
}

slider.addEventListener('click', () => sliderImage.classList.add('hided'))

el1.addEventListener('click', () => {hide();videoType(el1)})
el2.addEventListener('click', () => {hide(); videoType(el2)})
el3.addEventListener('click', () => {hide();videoType(el3)})
el4.addEventListener('click', () => {hide();videoType(el4)})
el5.addEventListener('click', () => {hide();videoType(el5)})
el6.addEventListener('click', () => {hide();videoType(el6)})
el7.addEventListener('click', () => {hide();videoType(el7)})
el8.addEventListener('click', () => {hide();videoType(el8)})
el9.addEventListener('click', () => {hide();videoType(el9)})

seria0.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el9, "https://player.vimeo.com/video/390974844")
    slider.insertBefore(el9, block)
    elRemove(el0,el1,el2,el3,el4,el5,el6,el7,el8)
})

seria1.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el1, "https://player.vimeo.com/video/390331691")
    slider.insertBefore(el1, block)
    elRemove(el0,el9,el2,el3,el4,el5,el6,el7,el8)
})
seria2.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el2, "https://player.vimeo.com/video/390967449")
    slider.insertBefore(el2, block)
    elRemove(el0,el1,el9,el3,el4,el5,el6,el7,el8)
})
seria3.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el3, "https://player.vimeo.com/video/390973226")
    slider.insertBefore(el3, block)
    elRemove(el0,el1,el2,el9,el4,el5,el6,el7,el8)
})
seria4.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el4, "https://player.vimeo.com/video/390975901")
    slider.insertBefore(el4, block)
    elRemove(el0,el1,el2,el3,el9,el5,el6,el7,el8)
})
seria5.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el5, "https://player.vimeo.com/video/390979853")
    slider.insertBefore(el5, block)
    elRemove(el0,el1,el2,el3,el4,el9,el6,el7,el8)
})
seria6.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el6, "https://player.vimeo.com/video/390981509")
    slider.insertBefore(el6, block)
    elRemove(el0,el1,el2,el3,el4,el5,el9,el7,el8)
})
seria7.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el7, "https://player.vimeo.com/video/391426955")
    slider.insertBefore(el7, block)
    elRemove(el0,el1,el2,el3,el4,el5,el6,el9,el8)
})
seria8.addEventListener('click', () => {
    videoPlay()
    sliderImage.classList.remove('hided')
    videoSrc(el8, "https://player.vimeo.com/video/391428200")
    slider.insertBefore(el8, block)
    elRemove(el0,el1,el2,el3,el4,el5,el6,el7,el9)
})

let menuOpen = document.querySelector('.one')
let menu = document.querySelector('.menu')

menuOpen.addEventListener('click', () => menu.classList.toggle('hide') )

    // ЭФФЕКТ ПЕЧАТНОЙ МАШИНКИ ---------------------------

    const tl = new TimelineMax()
    let text = 'Информация о сериале'
    let textTwo = 'Описание сюжета «Мандалорец»'

    let inputName = document.querySelector('.inputName')
    let inputMessage = document.querySelector('.inputMessage')

    document.addEventListener('DOMContentLoaded', () => {
        tl.fromTo('.type-me', 3, {
            width: '0',
        }, {
            width: '1000px',
            ease:  SteppedEase.config(text.length)
        }, 0)

        tl.fromTo('.type-meTwo', 3, {
            width: '0',
        }, {
            width: '1000px',
            ease: SteppedEase.config(textTwo.length)
        }, 0)
    })

    inputName.addEventListener('click', () => inputName.classList.toggle('clickInput'))
    inputMessage.addEventListener('click', () => inputMessage.classList.toggle('clickInput'))

    // КОММЕНТАРИИ 

    let inpName = document.querySelector('.inputName')
    let inpMessage = document.querySelector('.inputMessage')
    let btn = document.querySelector('.btnSend')
    let pole = document.querySelector('.field')

    btn.addEventListener('click', () => {
        axios.get('/sendText', {params: {user: inpName.value, text: inpMessage.value}})
        .then(function(response) { inpName.disabled = true })
    })

    receiv()

    function receiv() {
        axios.get('/komments').then(function(response) {
            let komments = response.data
            inpMessage.value = ''
            for (komment of komments) {
                pole.value += komment.user + ': ' + komment.text + '\n'
            }
        })
    }

    let socket = new WebSocket('ws://localhost:1001')

    socket.onmessage = event => {
        inpMessage.value = ''
        let komment = JSON.parse(event.data)
        pole.value += komment.user + ': ' + komment.text + '\n'
    }

</script>
</body>
</html>